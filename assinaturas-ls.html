<!DOCTYPE html>
<html lang="pt-PT">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Assinaturas – Landskill (Debug)</title>

<style>
:root{
  --ls-blue:#353ED4;
  --ls-teal:#00C6B1;
  --txt:#111114;
  --bg:#fafafa;
}
body{
  font-family:"Lydia Sans","Inter",Arial,sans-serif;
  margin:0; padding:24px;
  background:var(--bg); color:#111;
}
.app{max-width:960px; margin:0 auto; display:grid; gap:24px; grid-template-columns:1.1fr 1fr;}
.card{background:#fff; border:1px solid #ddd; border-radius:16px; padding:18px; box-shadow:0 1px 4px rgba(0,0,0,.05);}
h1{margin:0 0 8px; font-size:20px;}
label{display:block; font-size:13px; margin:10px 0 4px;}
input[type="text"],input[type="url"]{width:100%; padding:10px 12px; border-radius:8px; border:1px solid #ccc;}
.btns{display:flex; gap:8px; flex-wrap:wrap; margin-top:14px;}
button{padding:10px 14px; border-radius:8px; border:1px solid #ccc; background:#fff; cursor:pointer; font-weight:600;}
button.primary{background:var(--ls-blue); border-color:var(--ls-blue); color:#fff;}
small.hint{color:#777; display:block; margin-top:4px;}
.preview-wrap{display:flex; gap:18px; align-items:flex-start; flex-wrap:wrap;}
.preview-card{background:#fff; border-radius:12px; padding:16px;}
.sig-title{font-size:12px; color:#555; margin-bottom:8px; font-weight:600;}
.mono{font-family:ui-monospace,Menlo,Consolas,monospace; font-size:12px; color:#555; overflow:auto}
</style>
</head>
<body>

<div class="app">
  <div class="card">
    <h1>Builder de Assinaturas — Landskill (DEBUG)</h1>
    <label>Nome</label><input id="f-name" type="text" placeholder="Ex.: Filipa Freire">
    <label>Cargo</label><input id="f-role" type="text" placeholder="Ex.: Graphic Designer">
    <label>T (telemóvel pessoal)</label><input id="f-tm" type="text" placeholder="Ex.: (+351) 9XX XXX XXX">
    <label>URL da Foto (PNG círculo 240×240)</label>
    <input id="f-photo" type="url" value="https://raw.githubusercontent.com/LandskillAssinaturas/ls-assinaturas/main/ls_headshot-filipa-freire.png">

    <div class="btns">
      <button class="primary" id="btn-render">Gerar / Atualizar</button>
    </div>
  </div>

  <div class="card">
    <div class="preview-wrap">
      <div class="preview-card" style="min-width:600px">
        <div class="sig-title">Pré-visualização (debug)</div>
        <div id="sig"></div>
      </div>
    </div>
  </div>
</div>

<script>
const BRAND={
  officePhone:"(+351) 215 947 950",
  address:"Rua do Proletariado Nº7 (Lote 1) Carnaxide, Portugal",
  linkWeb:"https://www.landskill.com/",
  linkIG:"https://www.instagram.com/landskill_it/",
  linkLI:"https://www.linkedin.com/company/101356039/",
  logo:"https://raw.githubusercontent.com/LandskillAssinaturas/ls-assinaturas/main/ls_logo.png",
  arrow:"https://raw.githubusercontent.com/LandskillAssinaturas/ls-assinaturas/main/ls_seta.png",
  iso:"https://raw.githubusercontent.com/LandskillAssinaturas/ls-assinaturas/main/ls_certificacao-iso.png",
  iconWeb:"https://raw.githubusercontent.com/LandskillAssinaturas/ls-assinaturas/main/ls_icon-website.png",
  iconIG:"https://raw.githubusercontent.com/LandskillAssinaturas/ls-assinaturas/main/ls_icon-instagram.png",
  iconLI:"https://raw.githubusercontent.com/LandskillAssinaturas/ls-assinaturas/main/ls_icon-linkedin.png",
  iconPhone:"https://raw.githubusercontent.com/LandskillAssinaturas/ls-assinaturas/main/ls_telemovel.png",
  iconLoc:"https://raw.githubusercontent.com/LandskillAssinaturas/ls-assinaturas/main/ls_local.png"
};

const $=id=>document.getElementById(id);
const esc=t=>String(t||"").replace(/[<>&"]/g,s=>({'<':'&lt;','>':'&gt;','&':'&amp;','"':'&quot;'}[s]));

function signatureHTML(d){
  const name=d.name||"", role=d.role||"", tm=d.tm||"", photo=d.photo||"";
  const W_PHOTO=120,H_PHOTO=120, W_ARROW=24,H_ARROW=24, W_LOGO=160,H_LOGO=40, W_ICON=24,H_ICON=24, W_ISO=120,H_ISO=60;

  return `
<table role="presentation" cellpadding="0" cellspacing="0" border="0" style="border-collapse:collapse;font-family:'Lydia Sans',Arial,sans-serif;color:#111114;width:100%;max-width:900px;">

  <!-- LINHA 1 — FOTO, SETA, NOME/CARGO E LOGO -->
  <tr style="line-height:1; font-size:0; border:1px dashed rgba(255,0,0,0.5);">
    <td valign="top" style="padding:0 16px 0 0; border:1px dashed rgba(255,0,0,0.4);">
      ${photo?`<img src="${photo}" width="${W_PHOTO}" height="${H_PHOTO}" style="display:block;border-radius:999px;">`:``}
    </td>
    <td valign="top" style="padding:8px 12px 0 0; border:1px dashed rgba(255,150,0,0.4);">
      <img src="${BRAND.arrow}" width="${W_ARROW}" height="${H_ARROW}" style="display:block;">
    </td>
    <td valign="top" style="padding:0 24px 0 0; border:1px dashed rgba(0,150,255,0.4);">
      <div style="font-size:22px;line-height:1;font-weight:800;color:#00C6B1;display:block;margin:0;">${esc(name)}</div>
      <div style="font-size:14px;line-height:1;font-weight:800;color:#353ED4;display:block;margin:0;">${esc(role)}</div>
    </td>
    <td valign="top" style="padding:0; border:1px dashed rgba(0,255,255,0.4);">
      <img src="${BRAND.logo}" width="${W_LOGO}" height="${H_LOGO}" style="display:block;">
    </td>
  </tr>

  <!-- LINHA 2 — LINHA VERDE -->
  <tr style="height:0; line-height:0; font-size:0; border:1px dashed rgba(0,255,0,0.4);">
    <td colspan="2" style="height:0; line-height:0; font-size:0; padding:0; border:1px dashed rgba(0,255,0,0.4);"></td>
    <td colspan="2" style="height:0; line-height:0; font-size:0; padding:0; border:1px dashed rgba(0,255,0,0.4);">
      <table role="presentation" cellpadding="0" cellspacing="0" border="0"
        style="width:100%;border-collapse:collapse;margin-top:0;line-height:0;font-size:0;">
        <tr style="height:0; line-height:0; font-size:0;">
          <td style="height:4px;background:linear-gradient(90deg,#00C6B1 0%,#00C6B1 32%,#CFEDEA 32%,#CFEDEA 100%);border-radius:2px;"></td>
        </tr>
      </table>
    </td>
  </tr>

  <!-- LINHA 3 — CONTACTOS -->
  <tr style="border:1px dashed rgba(150,0,255,0.4);">
    <td style="padding:0 16px 0 0; border:1px dashed rgba(150,0,255,0.4);"></td>
    <td style="padding:0 12px 0 0; border:1px dashed rgba(150,0,255,0.4);"></td>
    <td valign="top" style="padding:4px 24px 0 0; border:1px dashed rgba(150,0,255,0.4);">
      <table cellpadding="0" cellspacing="0" border="0" style="font-size:13px;color:#111114;">
        ${tm?`<tr><td style="font-size:14px;font-weight:700;">T: ${esc(tm)}</td></tr>`:""}
        <tr><td style="padding-top:6px;">
          <table cellpadding="0" cellspacing="0" border="0">
            <tr>
              <td style="padding-right:10px;"><img src="${BRAND.iconPhone}" width="${W_ICON}" height="${H_ICON}" style="display:block;"></td>
              <td style="font-size:13px;font-weight:400;">${BRAND.officePhone}</td>
            </tr>
          </table>
        </td></tr>
        <tr><td style="padding-top:6px;">
          <table cellpadding="0" cellspacing="0" border="0">
            <tr>
              <td style="padding-right:10px;"><img src="${BRAND.iconLoc}" width="${W_ICON}" height="${H_ICON}" style="display:block;"></td>
              <td style="font-size:13px;font-weight:400;">${BRAND.address}</td>
            </tr>
          </table>
        </td></tr>
      </table>
    </td>
    <td valign="top" style="padding:4px 0 0 0;white-space:nowrap; border:1px dashed rgba(150,0,255,0.4);">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr><td><img src="${BRAND.iso}" width="${W_ISO}" height="${H_ISO}" style="display:block;"></td></tr>
        <tr><td style="height:10px;"></td></tr>
        <tr><td>
          <table cellpadding="0" cellspacing="0" border="0">
            <tr>
              <td style="padding-right:10px;"><a href="${BRAND.linkWeb}" target="_blank"><img src="${BRAND.iconWeb}" width="${W_ICON}" height="${H_ICON}"></a></td>
              <td style="padding-right:10px;"><a href="${BRAND.linkIG}" target="_blank"><img src="${BRAND.iconIG}" width="${W_ICON}" height="${H_ICON}"></a></td>
              <td><a href="${BRAND.linkLI}" target="_blank"><img src="${BRAND.iconLI}" width="${W_ICON}" height="${H_ICON}"></a></td>
            </tr>
          </table>
        </td></tr>
      </table>
    </td>
  </tr>
</table>
`.trim();
}

function render(){
  const name=$('f-name').value.trim(),role=$('f-role').value.trim(),tm=$('f-tm').value.trim(),photo=$('f-photo').value.trim();
  $('sig').innerHTML=signatureHTML({name,role,tm,photo});
}
$('btn-render').onclick=e=>{e.preventDefault();render();};
render();
</script>
</body>
</html>
